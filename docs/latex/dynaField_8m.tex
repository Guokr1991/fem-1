\hypertarget{dynaField_8m}{}\section{field/dyna\+Field.m File Reference}
\label{dynaField_8m}\index{field/dyna\+Field.\+m@{field/dyna\+Field.\+m}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
string \hyperlink{dynaField_8m_ab83d8eb38df130499df3b04e80e36773}{exp} ()
\item 
id \hyperlink{dynaField_8m_acc0bcf3e19243c2a99e23362ec8db847}{O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+:} (id structure,\mbox{[}E\+X\+A\+M\+P\+L\+E\mbox{]} which(mfilename) fileparts)
\item 
\hyperlink{dynaField_8m_ae37597ccce7bc26ce6a7427c16c0cbd6}{check\+\_\+add\+\_\+probes} (\hyperlink{dynaField_8m_a049be50e642369c7b25abaae69419a31}{probes\+Path})
\item 
\textquotesingle{}\hyperlink{field_2read__mpn_8m_ae0323a9039add2978bf5b49550572c7c}{c}\textquotesingle{}, \hyperlink{field2dyna_8m_a92e71307b81b86f234ad5bb76c1363fe}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+sound\+Speed} \hyperlink{dynaField_8m_a481275e53ebb559c526553d5b43fd31c}{set\+\_\+field} ()
\item 
\hyperlink{dynaField_8m_ad05a7a89b4f497b4544e13f8acc7ec06}{set\+\_\+field} (\textquotesingle{}fs\textquotesingle{}, \hyperlink{field2dyna_8m_acd4748a463c7c42fdf5ff35f1687a93b}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+sampling\+Frequency})
\item 
sprintf(\textquotesingle{}\mbox{[}\hyperlink{optical__piston_8m_af886915c2885b6e3d90932b4320ba82f}{Th}, \hyperlink{defineImpResp_8m_a0798256ffa42d915762399f871d0b09e}{impulse\+Response}\mbox{]}=\%\hyperlink{field_2read__mpn_8m_a3691308f2a4c2f6983f2880d32e29c84}{s}(F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S \hyperlink{dynaField_8m_ab4966d8be0a8426328f4b30194cd922d}{eval} ()
\item 
\hyperlink{PointLoadsPlot_8m_a8754747bee0cc21cf483c0b1e583c826}{figure} out the \hyperlink{SortNodeIDs_8m_ac22a81ee948912d89e107057cfcea933}{axial} \hyperlink{dynaField_8m_a0d89a0846e84309754b24728640a0af1}{shift} (m) that will need to be applied to the scatterers\%to accomodate the mathematical element shift due to the lens \hyperlink{correct__axial__lens_8m_abd6b669cf9935521d638716f6638046d}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+lens\+\_\+correction\+\_\+m}
\item 
define the impulse response \hyperlink{dynaField_8m_ad602c983443107d98874462419512b31}{xdc\+\_\+impulse} (\hyperlink{optical__piston_8m_af886915c2885b6e3d90932b4320ba82f}{Th}, \hyperlink{defineImpResp_8m_a0798256ffa42d915762399f871d0b09e}{impulse\+Response})
\item 
\hyperlink{dynaField_8m_a2a1986c034239d8e348bcc8f6c26708e}{xdc\+\_\+excitation} (\hyperlink{optical__piston_8m_af886915c2885b6e3d90932b4320ba82f}{Th}, \hyperlink{dynaField_8m_add428d7ebb59c979fbae8768559f4467}{excitation\+Pulse})
\item 
set non freq dep to be centered here \hyperlink{dynaField_8m_ae14cecc458e223095f1efaeb00cdbe9b}{set\+\_\+field} (\textquotesingle{}\hyperlink{dynaField_8m_ac356deedcb6c8bb875aaedf10db0a455}{att}\textquotesingle{}, \hyperlink{dynaField_8m_ac356deedcb6c8bb875aaedf10db0a455}{att})
\item 
\hyperlink{dynaField_8m_a424b7f98ba8730410496b00b3b23e21b}{set\+\_\+field} (\textquotesingle{}\hyperlink{dynaField_8m_afa7ec17a2ccd05a3bd3dbe34f21438ab}{Freq\+\_\+att}\textquotesingle{}, \hyperlink{dynaField_8m_afa7ec17a2ccd05a3bd3dbe34f21438ab}{Freq\+\_\+att})
\item 
\hyperlink{dynaField_8m_aa7cc6a963ebc8ace9fae1b8a3c8302e8}{set\+\_\+field} (\textquotesingle{}\hyperlink{dynaField_8m_a6660a6945f3c623d9ca111e87cfe566f}{att\+\_\+f0}\textquotesingle{}, \hyperlink{dynaField_8m_a6660a6945f3c623d9ca111e87cfe566f}{att\+\_\+f0})
\item 
\hyperlink{dynaField_8m_a99b033c3d21e0e878ead0f4427a41877}{set\+\_\+field} (\textquotesingle{}use\+\_\+att\textquotesingle{}, 1)
\item 
\hyperlink{dynaField_8m_a2cc243bb58501d3a6eaed982d8e0379a}{disp} (sprintf(\textquotesingle{}Start Time\+:\%i\+:\%2.\+0i\textquotesingle{}, Start\+Time(4), Start\+Time(5)))
\item 
\hyperlink{dynaField_8m_a05621bf827a2c1f176b2c69d05fb8e36}{disp} (sprintf(\textquotesingle{}Start Time\+:\%\hyperlink{field_2read__mpn_8m_a3691308f2a4c2f6983f2880d32e29c84}{s}\textquotesingle{}, \hyperlink{dynaField_8m_a80b0d67eccd8a722b335bc1c9679a2f7}{Time})) \hyperlink{SortNodeIDs_8m_ae481b4e30e2a7a93f5ea6b9e8d30aa16}{tic}
\item 
for \hyperlink{PointLoadsPlot_8m_a6a750134ba266c45edf286367b830389}{if} \hyperlink{dynaField_8m_a0b7ca4c5e50258f15c07cf9c0ba2cb09}{$\sim$isempty} (intersect(\hyperlink{NodeElemVol_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, \hyperlink{dynaField_8m_aca3b358e31d5a80b0a73556b48d23676}{progress\+Points}))
\item 
for \hyperlink{PointLoadsPlot_8m_a6a750134ba266c45edf286367b830389}{if} \hyperlink{dynaField_8m_a9247b8af66a8a331a0f7382a3d0c822c}{disp} (sprintf(\textquotesingle{}Processed\%.\+1f\%\%\textquotesingle{}, i $\ast$100/num\+Nodes))
\item 
\hyperlink{field_2read__mpn_8m_a99efe28cc5c473d3435e7144e36919a9}{end} include the lens \hyperlink{dynaField_8m_a836610ea9b5a78572d46d968753d4796}{correction} (\hyperlink{SortNodeIDs_8m_ac22a81ee948912d89e107057cfcea933}{axial} \hyperlink{dynaField_8m_a0d89a0846e84309754b24728640a0af1}{shift})\mbox{[}pressure
\item 
\hyperlink{dynaField_8m_a05e212b384acd1c63e61f62f1e0e772a}{intensity} (\hyperlink{NodeElemVol_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
\item 
min \hyperlink{dynaField_8m_a5fd9934d68b69dc99cfde791672560ba}{disp} (sprintf(\textquotesingle{}Actual Run \hyperlink{dynaField_8m_a80b0d67eccd8a722b335bc1c9679a2f7}{Time}=\%.\+3f m\textbackslash{}n\textquotesingle{}, Actual\+Run\+Time))
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{dynaField_8m_afb34148486bb9045e878a5686ace6960}{function} \mbox{[}\hyperlink{dynaField_8m_a05e212b384acd1c63e61f62f1e0e772a}{intensity}, F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S\mbox{]}
\item 
use a Guassian \hyperlink{field_2read__mpn_8m_aacf38a2284b01137b06dd33ab6dd3d47}{function} based \hyperlink{makeLoadsTemps_8m_a58ab1fd68e97078232808206b850161b}{on} the defined fractional bandwidth and center \hyperlink{dynaField_8m_a7a729babdbde8246233a7c16e68b1f9a}{frequency}
\item 
\hyperlink{dynaField_8m_a049be50e642369c7b25abaae69419a31}{probes\+Path} = fullfile(function\+Dir, \textquotesingle{}../probes/fem\textquotesingle{})
\item 
check that Field I\+I is \hyperlink{extractAxisIntensity_8m_a64b0840001d30ff8cd416759a03542ce}{in} the Matlab search \hyperlink{dynaField_8m_a865053776e09d717b4517411d9037262}{path}
\item 
check that Field I\+I is \hyperlink{extractAxisIntensity_8m_a64b0840001d30ff8cd416759a03542ce}{in} the Matlab search and initialize \hyperlink{dynaField_8m_ad75870536b9e577c0099c020ce64864c}{check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I}
\item 
F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S \hyperlink{dynaField_8m_a2cccdaa973cd7dd8659a8a2b8e50639c}{Transducer}
\item 
check specs of the defined transducer F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S \hyperlink{dynaField_8m_a5abf76b683a78bf418fb2f48d2246a1b}{Th\+\_\+data} = xdc\+\_\+get(\hyperlink{optical__piston_8m_af886915c2885b6e3d90932b4320ba82f}{Th}, \textquotesingle{}rect\textquotesingle{})
\item 
define the excitation pulse \hyperlink{dynaField_8m_a184b045fb0dd6299abbab1e2f8e71c1c}{excite\+Freq} =\hyperlink{field2dyna_8m_afb0408b921d8cb3663bd68f999a26f12}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+Frequency}$\ast$1e6
\item 
Hz \hyperlink{dynaField_8m_a046ee75d022b71f29f1890d82fb30724}{ncyc} =50
\item 
\hyperlink{dynaField_8m_af6b2bfd604da96994dd4d0a8853a0045}{texcite} =0\+:1/F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+sampling\+Frequency\+:ncyc/\hyperlink{dynaField_8m_a184b045fb0dd6299abbab1e2f8e71c1c}{excite\+Freq}
\item 
\hyperlink{dynaField_8m_add428d7ebb59c979fbae8768559f4467}{excitation\+Pulse} =sin(2$\ast$pi$\ast$\hyperlink{dynaField_8m_a184b045fb0dd6299abbab1e2f8e71c1c}{excite\+Freq}$\ast$\hyperlink{dynaField_8m_af6b2bfd604da96994dd4d0a8853a0045}{texcite})
\item 
set attenuation \hyperlink{dynaField_8m_afa7ec17a2ccd05a3bd3dbe34f21438ab}{Freq\+\_\+att} =\hyperlink{field2dyna_8m_a363e1eeb37608cebe4d34b1e26219f92}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+alpha}$\ast$100/1e6
\item 
F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S \hyperlink{extractAxisIntensity_8m_a64b0840001d30ff8cd416759a03542ce}{in} d\+B cm M\+Hz \hyperlink{dynaField_8m_a6660a6945f3c623d9ca111e87cfe566f}{att\+\_\+f0} =\hyperlink{dynaField_8m_a184b045fb0dd6299abbab1e2f8e71c1c}{excite\+Freq}
\item 
\hyperlink{dynaField_8m_ac356deedcb6c8bb875aaedf10db0a455}{att} =\hyperlink{dynaField_8m_afa7ec17a2ccd05a3bd3dbe34f21438ab}{Freq\+\_\+att}$\ast$\hyperlink{dynaField_8m_a6660a6945f3c623d9ca111e87cfe566f}{att\+\_\+f0}
\item 
compute Ispta \hyperlink{check__on__axis_8m_ac0797498389c58d46b7187f8b92d92c6}{at} each \hyperlink{extractAxisIntensity_8m_ae0bc31bfeb86debd67e2a52807bd3af9}{location} for a single tx pulse optimizing by computing only relevant \hyperlink{SortNodeIDs_8m_a45edca84b01499961c32ca6a8171befc}{nodes} will assume others are zero \hyperlink{dynaField_8m_a1c8c756aa9b4542263c30904ce81b713}{Start\+Time} = fix(clock)
\item 
\hyperlink{dynaField_8m_a80b0d67eccd8a722b335bc1c9679a2f7}{Time} = datestr(\hyperlink{dynaField_8m_a1c8c756aa9b4542263c30904ce81b713}{Start\+Time}, \textquotesingle{}H\+H\+:\+M\+M\+:\+S\+S P\+M\textquotesingle{})
\item 
\hyperlink{dynaField_8m_af9bd6d4d8ecd1b0563241fd648435e14}{num\+Nodes} = size(\hyperlink{field2dyna_8m_a5ebcf322018cd232e3d96a8f61821e50}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+measurement\+Pointsand\+Nodes}, 1)
\item 
\hyperlink{dynaField_8m_aca3b358e31d5a80b0a73556b48d23676}{progress\+Points} = 0\+:10000\+:\hyperlink{dynaField_8m_af9bd6d4d8ecd1b0563241fd648435e14}{num\+Nodes}
\item 
for \hyperlink{dynaField_8m_a2e4ce9aeeb12bfcdb92dae2a4692c8fb}{i} =1\+:\hyperlink{dynaField_8m_af9bd6d4d8ecd1b0563241fd648435e14}{num\+Nodes}
\item 
\hyperlink{field_2read__mpn_8m_a99efe28cc5c473d3435e7144e36919a9}{end} include the lens \hyperlink{dynaField_8m_a18a55e04aa85763cf0051d4b845f7703}{start\+Time} = calc\+\_\+hp(\hyperlink{optical__piston_8m_af886915c2885b6e3d90932b4320ba82f}{Th}, \hyperlink{field2dyna_8m_a5ebcf322018cd232e3d96a8f61821e50}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+measurement\+Pointsand\+Nodes}(\hyperlink{NodeElemVol_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i},2\+:4)+\hyperlink{correct__axial__lens_8m_abd6b669cf9935521d638716f6638046d}{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+lens\+\_\+correction\+\_\+m})
\item 
\hyperlink{field_2read__mpn_8m_a99efe28cc5c473d3435e7144e36919a9}{end} \hyperlink{dynaField_8m_a49a43ab328c2b598519984d261207e63}{Calc\+Time} = \hyperlink{SortNodeIDs_8m_ad6fb7f80c8029dc520e3ba9f5095cab0}{toc}
\item 
\hyperlink{field_2read__mpn_8m_a3691308f2a4c2f6983f2880d32e29c84}{s} \hyperlink{dynaField_8m_a7337f1e2154295bbabb444de93277a52}{Actual\+Run\+Time} = \hyperlink{dynaField_8m_a49a43ab328c2b598519984d261207e63}{Calc\+Time}/60
\item 
\hyperlink{dynaField_8m_a2b3b5d9b1f3e840e2d1c4728b1b3c6c6}{field\+\_\+end}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{dynaField_8m_ae37597ccce7bc26ce6a7427c16c0cbd6}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!check\+\_\+add\+\_\+probes@{check\+\_\+add\+\_\+probes}}
\index{check\+\_\+add\+\_\+probes@{check\+\_\+add\+\_\+probes}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{check\+\_\+add\+\_\+probes}]{\setlength{\rightskip}{0pt plus 5cm}check\+\_\+add\+\_\+probes (
\begin{DoxyParamCaption}
\item[{{\bf probes\+Path}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_ae37597ccce7bc26ce6a7427c16c0cbd6}
\hypertarget{dynaField_8m_a836610ea9b5a78572d46d968753d4796}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!correction@{correction}}
\index{correction@{correction}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{correction}]{\setlength{\rightskip}{0pt plus 5cm}{\bf end} include the lens correction (
\begin{DoxyParamCaption}
\item[{{\bf axial}}]{shift}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a836610ea9b5a78572d46d968753d4796}
\hypertarget{dynaField_8m_a2cc243bb58501d3a6eaed982d8e0379a}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!disp@{disp}}
\index{disp@{disp}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{disp}]{\setlength{\rightskip}{0pt plus 5cm}disp (
\begin{DoxyParamCaption}
\item[{sprintf(\textquotesingle{}Start Time\+:\%i\+:\%2.\+0i\textquotesingle{}, Start\+Time(4), Start\+Time(5))}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a2cc243bb58501d3a6eaed982d8e0379a}
\hypertarget{dynaField_8m_a05621bf827a2c1f176b2c69d05fb8e36}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!disp@{disp}}
\index{disp@{disp}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{disp}]{\setlength{\rightskip}{0pt plus 5cm}disp (
\begin{DoxyParamCaption}
\item[{sprintf(\textquotesingle{}Start Time\+:\%{\bf s}\textquotesingle{}, {\bf Time})}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a05621bf827a2c1f176b2c69d05fb8e36}
\hypertarget{dynaField_8m_a9247b8af66a8a331a0f7382a3d0c822c}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!disp@{disp}}
\index{disp@{disp}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{disp}]{\setlength{\rightskip}{0pt plus 5cm}for {\bf if} disp (
\begin{DoxyParamCaption}
\item[{sprintf(\textquotesingle{}Processed\%.\+1f\%\%\textquotesingle{}, i $\ast$100/num\+Nodes)}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a9247b8af66a8a331a0f7382a3d0c822c}
\hypertarget{dynaField_8m_a5fd9934d68b69dc99cfde791672560ba}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!disp@{disp}}
\index{disp@{disp}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{disp}]{\setlength{\rightskip}{0pt plus 5cm}min disp (
\begin{DoxyParamCaption}
\item[{sprintf(\textquotesingle{}Actual Run {\bf Time}=\%.\+3f m\textbackslash{}n\textquotesingle{}, Actual\+Run\+Time)}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a5fd9934d68b69dc99cfde791672560ba}
\hypertarget{dynaField_8m_ab4966d8be0a8426328f4b30194cd922d}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!eval@{eval}}
\index{eval@{eval}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{eval}]{\setlength{\rightskip}{0pt plus 5cm}sprintf(\textquotesingle{}\mbox{[}{\bf Th},{\bf impulse\+Response}\mbox{]} = \%{\bf s}(F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S eval (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{dynaField_8m_ab4966d8be0a8426328f4b30194cd922d}
\hypertarget{dynaField_8m_ab83d8eb38df130499df3b04e80e36773}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!exp@{exp}}
\index{exp@{exp}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{exp}]{\setlength{\rightskip}{0pt plus 5cm}string exp (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{dynaField_8m_ab83d8eb38df130499df3b04e80e36773}
\hypertarget{dynaField_8m_a05e212b384acd1c63e61f62f1e0e772a}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!intensity@{intensity}}
\index{intensity@{intensity}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{intensity}]{\setlength{\rightskip}{0pt plus 5cm}intensity (
\begin{DoxyParamCaption}
\item[{{\bf i}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a05e212b384acd1c63e61f62f1e0e772a}
\hypertarget{dynaField_8m_acc0bcf3e19243c2a99e23362ec8db847}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+:@{O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+:}}
\index{O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+:@{O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+:}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+:}]{\setlength{\rightskip}{0pt plus 5cm}id O\+U\+T\+P\+U\+T\+:\+E\+X\+A\+M\+P\+L\+E\+: (
\begin{DoxyParamCaption}
\item[{id}]{structure, }
\item[{\mbox{[}\+E\+X\+A\+M\+P\+L\+E\mbox{]} which(mfilename)}]{fileparts}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{dynaField_8m_acc0bcf3e19243c2a99e23362ec8db847}
\hypertarget{dynaField_8m_a481275e53ebb559c526553d5b43fd31c}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!set\+\_\+field@{set\+\_\+field}}
\index{set\+\_\+field@{set\+\_\+field}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{set\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}\textquotesingle{}{\bf c}\textquotesingle{}, {\bf F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+sound\+Speed} set\+\_\+field (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{dynaField_8m_a481275e53ebb559c526553d5b43fd31c}
\hypertarget{dynaField_8m_ad05a7a89b4f497b4544e13f8acc7ec06}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!set\+\_\+field@{set\+\_\+field}}
\index{set\+\_\+field@{set\+\_\+field}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{set\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}set\+\_\+field (
\begin{DoxyParamCaption}
\item[{\textquotesingle{}fs\textquotesingle{}}]{, }
\item[{F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.}]{sampling\+Frequency}
\end{DoxyParamCaption}
)}\label{dynaField_8m_ad05a7a89b4f497b4544e13f8acc7ec06}
\hypertarget{dynaField_8m_ae14cecc458e223095f1efaeb00cdbe9b}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!set\+\_\+field@{set\+\_\+field}}
\index{set\+\_\+field@{set\+\_\+field}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{set\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}set non freq dep to be centered here set\+\_\+field (
\begin{DoxyParamCaption}
\item[{\textquotesingle{}{\bf att}\textquotesingle{}}]{, }
\item[{{\bf att}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_ae14cecc458e223095f1efaeb00cdbe9b}
\hypertarget{dynaField_8m_a424b7f98ba8730410496b00b3b23e21b}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!set\+\_\+field@{set\+\_\+field}}
\index{set\+\_\+field@{set\+\_\+field}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{set\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}set\+\_\+field (
\begin{DoxyParamCaption}
\item[{\textquotesingle{}{\bf Freq\+\_\+att}\textquotesingle{}}]{, }
\item[{{\bf Freq\+\_\+att}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a424b7f98ba8730410496b00b3b23e21b}
\hypertarget{dynaField_8m_aa7cc6a963ebc8ace9fae1b8a3c8302e8}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!set\+\_\+field@{set\+\_\+field}}
\index{set\+\_\+field@{set\+\_\+field}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{set\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}set\+\_\+field (
\begin{DoxyParamCaption}
\item[{\textquotesingle{}{\bf att\+\_\+f0}\textquotesingle{}}]{, }
\item[{{\bf att\+\_\+f0}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_aa7cc6a963ebc8ace9fae1b8a3c8302e8}
\hypertarget{dynaField_8m_a99b033c3d21e0e878ead0f4427a41877}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!set\+\_\+field@{set\+\_\+field}}
\index{set\+\_\+field@{set\+\_\+field}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{set\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}set\+\_\+field (
\begin{DoxyParamCaption}
\item[{\textquotesingle{}use\+\_\+att\textquotesingle{}}]{, }
\item[{1}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a99b033c3d21e0e878ead0f4427a41877}
\hypertarget{dynaField_8m_a0d89a0846e84309754b24728640a0af1}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!shift@{shift}}
\index{shift@{shift}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{shift}]{\setlength{\rightskip}{0pt plus 5cm}{\bf figure} out the {\bf axial} shift (
\begin{DoxyParamCaption}
\item[{m}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a0d89a0846e84309754b24728640a0af1}
\hypertarget{dynaField_8m_a2a1986c034239d8e348bcc8f6c26708e}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!xdc\+\_\+excitation@{xdc\+\_\+excitation}}
\index{xdc\+\_\+excitation@{xdc\+\_\+excitation}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{xdc\+\_\+excitation}]{\setlength{\rightskip}{0pt plus 5cm}xdc\+\_\+excitation (
\begin{DoxyParamCaption}
\item[{{\bf Th}}]{, }
\item[{{\bf excitation\+Pulse}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a2a1986c034239d8e348bcc8f6c26708e}
\hypertarget{dynaField_8m_ad602c983443107d98874462419512b31}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!xdc\+\_\+impulse@{xdc\+\_\+impulse}}
\index{xdc\+\_\+impulse@{xdc\+\_\+impulse}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{xdc\+\_\+impulse}]{\setlength{\rightskip}{0pt plus 5cm}define the impulse response xdc\+\_\+impulse (
\begin{DoxyParamCaption}
\item[{{\bf Th}}]{, }
\item[{{\bf impulse\+Response}}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_ad602c983443107d98874462419512b31}
\hypertarget{dynaField_8m_a0b7ca4c5e50258f15c07cf9c0ba2cb09}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!````~isempty@{$\sim$isempty}}
\index{````~isempty@{$\sim$isempty}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{$\sim$isempty}]{\setlength{\rightskip}{0pt plus 5cm}for {\bf if} $\sim$isempty (
\begin{DoxyParamCaption}
\item[{intersect({\bf i}, {\bf progress\+Points})}]{}
\end{DoxyParamCaption}
)}\label{dynaField_8m_a0b7ca4c5e50258f15c07cf9c0ba2cb09}


\subsection{Variable Documentation}
\hypertarget{dynaField_8m_a7337f1e2154295bbabb444de93277a52}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Actual\+Run\+Time@{Actual\+Run\+Time}}
\index{Actual\+Run\+Time@{Actual\+Run\+Time}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Actual\+Run\+Time}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s} Actual\+Run\+Time = {\bf Calc\+Time}/60}\label{dynaField_8m_a7337f1e2154295bbabb444de93277a52}
\hypertarget{dynaField_8m_ac356deedcb6c8bb875aaedf10db0a455}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!att@{att}}
\index{att@{att}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{att}]{\setlength{\rightskip}{0pt plus 5cm}att ={\bf Freq\+\_\+att}$\ast${\bf att\+\_\+f0}}\label{dynaField_8m_ac356deedcb6c8bb875aaedf10db0a455}
\hypertarget{dynaField_8m_a6660a6945f3c623d9ca111e87cfe566f}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!att\+\_\+f0@{att\+\_\+f0}}
\index{att\+\_\+f0@{att\+\_\+f0}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{att\+\_\+f0}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S {\bf in} d\+B cm M\+Hz att\+\_\+f0 ={\bf excite\+Freq}}\label{dynaField_8m_a6660a6945f3c623d9ca111e87cfe566f}
\hypertarget{dynaField_8m_a49a43ab328c2b598519984d261207e63}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Calc\+Time@{Calc\+Time}}
\index{Calc\+Time@{Calc\+Time}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Calc\+Time}]{\setlength{\rightskip}{0pt plus 5cm}{\bf end} Calc\+Time = {\bf toc}}\label{dynaField_8m_a49a43ab328c2b598519984d261207e63}
\hypertarget{dynaField_8m_ad75870536b9e577c0099c020ce64864c}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I@{check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I}}
\index{check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I@{check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I}]{\setlength{\rightskip}{0pt plus 5cm}check that Field I\+I is {\bf in} the Matlab search and initialize check\+\_\+start\+\_\+\+Field\+\_\+\+I\+I}\label{dynaField_8m_ad75870536b9e577c0099c020ce64864c}
\hypertarget{dynaField_8m_add428d7ebb59c979fbae8768559f4467}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!excitation\+Pulse@{excitation\+Pulse}}
\index{excitation\+Pulse@{excitation\+Pulse}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{excitation\+Pulse}]{\setlength{\rightskip}{0pt plus 5cm}excitation\+Pulse =sin(2$\ast$pi$\ast${\bf excite\+Freq}$\ast${\bf texcite})}\label{dynaField_8m_add428d7ebb59c979fbae8768559f4467}
\hypertarget{dynaField_8m_a184b045fb0dd6299abbab1e2f8e71c1c}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!excite\+Freq@{excite\+Freq}}
\index{excite\+Freq@{excite\+Freq}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{excite\+Freq}]{\setlength{\rightskip}{0pt plus 5cm}define the excitation pulse excite\+Freq ={\bf F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+Frequency}$\ast$1e6}\label{dynaField_8m_a184b045fb0dd6299abbab1e2f8e71c1c}
\hypertarget{dynaField_8m_a2b3b5d9b1f3e840e2d1c4728b1b3c6c6}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!field\+\_\+end@{field\+\_\+end}}
\index{field\+\_\+end@{field\+\_\+end}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{field\+\_\+end}]{\setlength{\rightskip}{0pt plus 5cm}field\+\_\+end}\label{dynaField_8m_a2b3b5d9b1f3e840e2d1c4728b1b3c6c6}
\hypertarget{dynaField_8m_afa7ec17a2ccd05a3bd3dbe34f21438ab}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Freq\+\_\+att@{Freq\+\_\+att}}
\index{Freq\+\_\+att@{Freq\+\_\+att}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Freq\+\_\+att}]{\setlength{\rightskip}{0pt plus 5cm}set attenuation Freq\+\_\+att ={\bf F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+alpha}$\ast$100/1e6}\label{dynaField_8m_afa7ec17a2ccd05a3bd3dbe34f21438ab}
\hypertarget{dynaField_8m_a7a729babdbde8246233a7c16e68b1f9a}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!frequency@{frequency}}
\index{frequency@{frequency}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{frequency}]{\setlength{\rightskip}{0pt plus 5cm}use a Guassian {\bf function} based {\bf on} the defined fractional bandwidth and center frequency}\label{dynaField_8m_a7a729babdbde8246233a7c16e68b1f9a}
\hypertarget{dynaField_8m_afb34148486bb9045e878a5686ace6960}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!function@{function}}
\index{function@{function}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{function}]{\setlength{\rightskip}{0pt plus 5cm}function\mbox{[}{\bf intensity}, F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S\mbox{]}}\label{dynaField_8m_afb34148486bb9045e878a5686ace6960}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=dynaField(FIELD\_PARAMS)
% \textcolor{keyword}{function} [intensity, FIELD\_PARAMS]=dynaField(FIELD\_PARAMS)
%
% Generate \hyperlink{dynaField_8m_a05e212b384acd1c63e61f62f1e0e772a}{intensity} values \hyperlink{check__on__axis_8m_ac0797498389c58d46b7187f8b92d92c6}{at} the nodal locations \textcolor{keywordflow}{for} conversion to force and
% input into the dyna deck.
%
% INPUTS:
%   FIELD\_PARAMS.alpha (\textcolor{keywordtype}{float}) - absoprtion (dB/cm/MHz)
%   FIELD\_PARAMS.\hyperlink{field2dyna_8m_a8c6a3ec1fd81923c3bdb6f71281b2eff}{measurementPointsandNodes} - nodal IDs and spatial locations
%                                            \hyperlink{field2dyna_8m_a4c59e51b61bbb48762ded4f701681494}{from} field2dyna.m
%   FIELD\_PARAMS.\hyperlink{field2dyna_8m_a039f827847a789514c36bd2c6a1ae2b5}{Fnum} (float) - F/#
%   FIELD\_PARAMS.\hyperlink{field2dyna_8m_a5e6f287ad3b025950b1a375d43b66dff}{focus} - [\hyperlink{SortNodeIDs_8m_a24d01de62376862cf2fe49d3377069ea}{x} \hyperlink{SortNodeIDs_8m_a9c03e196b11cc5732f9802aee95fd2bb}{y} \hyperlink{checkUniform_8m_a25ed1bcb423b0b7200f485fc5ff71c8e}{z}] (m)
%   FIELD\_PARAMS.\hyperlink{field2dyna_8m_afb0408b921d8cb3663bd68f999a26f12}{Frequency} (float) - push \hyperlink{dynaField_8m_a7a729babdbde8246233a7c16e68b1f9a}{frequency} (MHz)
%                                    6.67 (VF10-5)
%                                    4.21 (VF7-3)
%   FIELD\_PARAMS.\hyperlink{dynaField_8m_a2cccdaa973cd7dd8659a8a2b8e50639c}{Transducer} (string) - 'vf105'
\end{DoxyCode}
\hypertarget{dynaField_8m_a2e4ce9aeeb12bfcdb92dae2a4692c8fb}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!i@{i}}
\index{i@{i}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{i}]{\setlength{\rightskip}{0pt plus 5cm}{\bf end} {\bf if} i =1\+:{\bf num\+Nodes}}\label{dynaField_8m_a2e4ce9aeeb12bfcdb92dae2a4692c8fb}
\hypertarget{dynaField_8m_a046ee75d022b71f29f1890d82fb30724}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!ncyc@{ncyc}}
\index{ncyc@{ncyc}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{ncyc}]{\setlength{\rightskip}{0pt plus 5cm}Hz ncyc =50}\label{dynaField_8m_a046ee75d022b71f29f1890d82fb30724}
\hypertarget{dynaField_8m_af9bd6d4d8ecd1b0563241fd648435e14}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!num\+Nodes@{num\+Nodes}}
\index{num\+Nodes@{num\+Nodes}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{num\+Nodes}]{\setlength{\rightskip}{0pt plus 5cm}num\+Nodes = size({\bf F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+measurement\+Pointsand\+Nodes}, 1)}\label{dynaField_8m_af9bd6d4d8ecd1b0563241fd648435e14}
\hypertarget{dynaField_8m_a865053776e09d717b4517411d9037262}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!path@{path}}
\index{path@{path}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{path}]{\setlength{\rightskip}{0pt plus 5cm}check that Field I\+I is {\bf in} the Matlab search path}\label{dynaField_8m_a865053776e09d717b4517411d9037262}
\hypertarget{dynaField_8m_a049be50e642369c7b25abaae69419a31}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!probes\+Path@{probes\+Path}}
\index{probes\+Path@{probes\+Path}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{probes\+Path}]{\setlength{\rightskip}{0pt plus 5cm}probes\+Path = fullfile(function\+Dir, \textquotesingle{}../probes/fem\textquotesingle{})}\label{dynaField_8m_a049be50e642369c7b25abaae69419a31}
\hypertarget{dynaField_8m_aca3b358e31d5a80b0a73556b48d23676}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!progress\+Points@{progress\+Points}}
\index{progress\+Points@{progress\+Points}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{progress\+Points}]{\setlength{\rightskip}{0pt plus 5cm}progress\+Points = 0\+:10000\+:{\bf num\+Nodes}}\label{dynaField_8m_aca3b358e31d5a80b0a73556b48d23676}
\hypertarget{dynaField_8m_a1c8c756aa9b4542263c30904ce81b713}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Start\+Time@{Start\+Time}}
\index{Start\+Time@{Start\+Time}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Start\+Time}]{\setlength{\rightskip}{0pt plus 5cm}compute Ispta {\bf at} each {\bf location} for a single tx pulse optimizing by computing only relevant {\bf nodes} will assume others are zero Start\+Time = fix(clock)}\label{dynaField_8m_a1c8c756aa9b4542263c30904ce81b713}
\hypertarget{dynaField_8m_a18a55e04aa85763cf0051d4b845f7703}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!start\+Time@{start\+Time}}
\index{start\+Time@{start\+Time}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{start\+Time}]{\setlength{\rightskip}{0pt plus 5cm}{\bf end} include the lens start\+Time = calc\+\_\+hp({\bf Th}, {\bf F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+measurement\+Pointsand\+Nodes}({\bf i},2\+:4)+{\bf F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+lens\+\_\+correction\+\_\+m})}\label{dynaField_8m_a18a55e04aa85763cf0051d4b845f7703}
\hypertarget{dynaField_8m_af6b2bfd604da96994dd4d0a8853a0045}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!texcite@{texcite}}
\index{texcite@{texcite}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{texcite}]{\setlength{\rightskip}{0pt plus 5cm}texcite =0\+:1/F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S.\+sampling\+Frequency\+:ncyc/{\bf excite\+Freq}}\label{dynaField_8m_af6b2bfd604da96994dd4d0a8853a0045}
\hypertarget{dynaField_8m_a5abf76b683a78bf418fb2f48d2246a1b}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Th\+\_\+data@{Th\+\_\+data}}
\index{Th\+\_\+data@{Th\+\_\+data}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Th\+\_\+data}]{\setlength{\rightskip}{0pt plus 5cm}check specs of the defined transducer F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S Th\+\_\+data = xdc\+\_\+get({\bf Th}, \textquotesingle{}rect\textquotesingle{})}\label{dynaField_8m_a5abf76b683a78bf418fb2f48d2246a1b}
\hypertarget{dynaField_8m_a80b0d67eccd8a722b335bc1c9679a2f7}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Time@{Time}}
\index{Time@{Time}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Time}]{\setlength{\rightskip}{0pt plus 5cm}Time = datestr({\bf Start\+Time}, \textquotesingle{}H\+H\+:\+M\+M\+:\+S\+S P\+M\textquotesingle{})}\label{dynaField_8m_a80b0d67eccd8a722b335bc1c9679a2f7}
\hypertarget{dynaField_8m_a2cccdaa973cd7dd8659a8a2b8e50639c}{}\index{dyna\+Field.\+m@{dyna\+Field.\+m}!Transducer@{Transducer}}
\index{Transducer@{Transducer}!dyna\+Field.\+m@{dyna\+Field.\+m}}
\subsubsection[{Transducer}]{\setlength{\rightskip}{0pt plus 5cm}F\+I\+E\+L\+D\+\_\+\+P\+A\+R\+A\+M\+S Transducer}\label{dynaField_8m_a2cccdaa973cd7dd8659a8a2b8e50639c}
